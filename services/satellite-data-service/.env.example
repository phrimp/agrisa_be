# =============================================================================
# Satellite Data Service - Environment Configuration
# =============================================================================
# Service-specific environment variables for satellite data infrastructure
# Copy to .env and customize for your deployment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Basic application configuration
APP_NAME=Agrisa Satellite Data Service
APP_VERSION=1.0.0
DEBUG=false
HOST=0.0.0.0
PORT=8000

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=logs/satellite-service.log

# =============================================================================
# DATABASE CONFIGURATION (PostGIS)
# =============================================================================

# PostgreSQL with PostGIS spatial extension
DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:9406/agrisa

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Database health checks
DB_HEALTH_CHECK_TIMEOUT=5

# =============================================================================
# MINIO OBJECT STORAGE
# =============================================================================

# MinIO server connection
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false

# Bucket configuration
MINIO_BUCKET_NAME=satellite-data

# MinIO client settings
MINIO_TIMEOUT=60
MINIO_RETRY_ATTEMPTS=3

# =============================================================================
# GOOGLE EARTH ENGINE (OPTIONAL)
# =============================================================================

# GEE service account authentication
GEE_SERVICE_ACCOUNT_KEY=
GEE_PROJECT_ID=

# =============================================================================
# IMAGE PROCESSING CONFIGURATION
# =============================================================================

# Default processing parameters
DEFAULT_IMAGE_SCALE=30
MAX_IMAGE_PIXELS=10000000

# Cache settings
CACHE_EXPIRY_HOURS=24

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development settings
RELOAD_ON_CHANGE=false
ENABLE_DEBUG_TOOLBAR=false

# Test database
TEST_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:9406/agrisa_test

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Worker configuration
WORKER_PROCESSES=4
MAX_WORKERS=10

# Request handling
MAX_REQUEST_SIZE=100MB
REQUEST_TIMEOUT=300

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Core features
ENABLE_FILE_UPLOAD=true
ENABLE_BULK_OPERATIONS=true
ENABLE_ASYNC_PROCESSING=true
ENABLE_GEOSPATIAL_QUERIES=true

# Optional features
ENABLE_BATCH_PROCESSING=false
ENABLE_METRICS_COLLECTION=false
ENABLE_CACHE_LAYER=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS settings
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600

# File upload security
MAX_UPLOAD_SIZE=1GB
ALLOWED_FILE_TYPES=tif,tiff,jp2,png,jpg,jpeg,geotiff

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================

# Health check configuration
HEALTH_CHECK_INTERVAL=30
ENABLE_HEALTH_CHECKS=true

# Metrics (if enabled)
METRICS_PORT=9090
ENABLE_PROMETHEUS_METRICS=false

# =============================================================================
# SATELLITE SERVICE SPECIFIC
# =============================================================================

# Spatial data configuration
DEFAULT_SRID=4326
SPATIAL_INDEX_METHOD=rtree

# Image metadata defaults
DEFAULT_CLOUD_COVERAGE_THRESHOLD=20.0
DEFAULT_RESOLUTION_THRESHOLD=30.0

# Batch processing (if enabled)
BATCH_SIZE=100
BATCH_TIMEOUT=300

# Analysis configuration
ANALYSIS_TIMEOUT=600
MAX_ANALYSIS_CONCURRENCY=5

# =============================================================================
# VIETNAM REGION SPECIFIC (if applicable)
# =============================================================================

# Geographic bounds for Vietnam (handled in code, but can override)
# VIETNAM_BOUNDS_NORTH=23.393395
# VIETNAM_BOUNDS_SOUTH=8.559611
# VIETNAM_BOUNDS_EAST=109.469922
# VIETNAM_BOUNDS_WEST=102.148224

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Third-party service timeouts
EXTERNAL_SERVICE_TIMEOUT=30
EXTERNAL_SERVICE_RETRIES=3

# Webhook configuration (if applicable)
WEBHOOK_TIMEOUT=10
WEBHOOK_RETRIES=3

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================

# Automated cleanup
CLEANUP_EXPIRED_DOWNLOADS=true
CLEANUP_INTERVAL_HOURS=24
TEMP_FILE_RETENTION_HOURS=2

# Data retention
IMAGE_RETENTION_DAYS=365
ANALYSIS_RETENTION_DAYS=90
LOG_RETENTION_DAYS=30

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================

# Container resource limits
MEMORY_LIMIT=2GB
CPU_LIMIT=2.0

# Startup configuration
STARTUP_TIMEOUT=60
GRACEFUL_SHUTDOWN_TIMEOUT=30

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production:
# 
# □ Change all default passwords and secrets
# □ Set DEBUG=false
# □ Configure proper DATABASE_URL
# □ Set up secure MinIO credentials
# □ Configure CORS_ORIGINS (not *)
# □ Enable MINIO_SECURE=true for production
# □ Set up proper logging and monitoring
# □ Configure backup strategies
# □ Set resource limits appropriately
# □ Test database connectivity
# □ Verify MinIO bucket permissions
# □ Configure health checks
# □ Set up SSL/TLS certificates